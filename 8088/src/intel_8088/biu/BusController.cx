/*
 * Copyright (c) 2015 Matthieu
 * All rights reserved.
 */
package intel_8088.biu;

task BusController {
	
	in u20 addr_computed, u8 bus_data;
	sync {
		out u20 addr, u8 data_o, u16 eu_data, u8 instr;
	}

	void loop() {
		if (true) { // instruction requested
			addr.write(3);
			
			fence;
			
			// read data in
			print("read data");
			instr.write(bus_data.read());
		}
	}

}
